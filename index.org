#+setupfile: comfy_inline.theme
* Generate my files listing
I can't get the color for code blocks working here and its driving me crazy.

To export use ~C-c C-c~ in the block below to generate the file listing. Then use ~C-c C-e o~ to export html.

#+begin_src python :results html :exports both
import os
import urllib.parse

l = []
url = 'https://github.com/baileywickham/files/raw/master/'
for file in filter(lambda n: not n in [".git", 'CNAME', 'comfy_inline.theme'], os.listdir('.')):
    u = url + urllib.parse.quote(file)
    l.append(f'<a href={u}>{u}</a><br>')

return '\n'.join(l)
#+end_src

#+RESULTS:
#+BEGIN_EXPORT html
<a href=https://github.com/baileywickham/files/raw/master/PHY211_Final_PRACTICE.pdf>https://github.com/baileywickham/files/raw/master/PHY211_Final_PRACTICE.pdf</a><br>
<a href=https://github.com/baileywickham/files/raw/master/index.org>https://github.com/baileywickham/files/raw/master/index.org</a><br>
<a href=https://github.com/baileywickham/files/raw/master/index.html>https://github.com/baileywickham/files/raw/master/index.html</a><br>
#+END_EXPORT


#+begin_src bash :export both
filename=""

git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch ${filename}" \
  --prune-empty --tag-name-filter cat -- --all
#+end_src

#+RESULTS:
